syntax="proto3";

package sftpproto;
option go_package="sftpproto";
option java_package = "org.agaveplatform.transfer.proto.sftp";
option java_multiple_files = true;

option objc_class_prefix = "AgaveSftp";
option java_outer_classname = "AgaveSftpProto";

message SftpConfig {
	string host = 1;
	string port = 2;

	string username = 3;
	bytes password = 4;
	bytes key = 5;
}

message CopyLocalToRemoteRequest{
	SftpConfig sftpConfig = 1;
	string src = 2;
	string dest = 3;
}
message CopyLocalToRemoteResponse{
	string result = 1;
}

message CopyFromRemoteRequest{
	SftpConfig sftpConfig = 1;
	string src = 2;
	string dest = 3;
}
message CopyFromRemoteResponse{
	string result = 1;
}

message AuthenticateToRemoteRequest{
	SftpConfig sftpConfig = 1;
}

message AuthenticateToRemoteResponse{
	bool result = 1;
}

service SFTPRelay {
	rpc CopyFromRemoteService(CopyFromRemoteRequest) returns (CopyFromRemoteResponse);
	rpc CopyLocalToRemoteService(CopyLocalToRemoteRequest) returns (CopyLocalToRemoteResponse);
	rpc AuthenticateToRemoteService(AuthenticateToRemoteRequest) returns (AuthenticateToRemoteResponse);
//	rpc GetDirListing(GetDirRequest)returns(stream GetDirResponse);
}

